<div class="panel-body">
    <form class="form-horizontal"
          novalidate
          #emailForm="ngForm">
        <fieldset>
            <legend>Basic email Information</legend>
            <div class="form-group" 
                    [ngClass]="{'has-error': (emailNameVar.touched || 
                                              emailNameVar.dirty || email.tblIdx !== 0) && 
                                              !emailNameVar.valid }">
                <label class="col-md-2 control-label" 
                        for="emailNameId">Email Address</label>

                <div class="col-md-8">
                    <input class="form-control" 
                            id="emailNameId" 
                            type="email" 
                            placeholder="Email (required)"
                            required
                            minlength="3"
                            [(ngModel)] = email.EmailAddress
                            name="emailName"
                            #emailNameVar="ngModel" />
                    <span class="help-block" *ngIf="(emailNameVar.touched ||
                                                     emailNameVar.dirty || email.tblIdx !== 0) &&
                                                     emailNameVar.errors">
                        <span *ngIf="emailNameVar.errors.required">
                            Email address is required.
                        </span>
                        <span *ngIf="emailNameVar.errors.minlength">
                            Email address must be at least three characters.
                        </span>
                    </span>
                </div>
            </div>
            
            <div class="form-group" 
                    [ngClass]="{'has-error': (emailCodeVar.touched || 
                                              emailCodeVar.dirty || email.tblIdx !== 0) && 
                                              !emailCodeVar.valid }">
                <label class="col-md-2 control-label" for="emailCodeId">Campus</label>

                <div class="col-md-8">
                    <select class="form-control" 
                            id="emailCampus" 
                             placeholder="Campus (required)"
                            required
                            [(ngModel)] = email.Campus
                            (ngModelChange)="campusChanged($event)"
                            name="emailCampus"
                            #emailCodeVar="ngModel" >
                            <option *ngFor="let c of ccs" [value]="c" >{{c}}</option>

                           
                    </select>
                    <span class="help-block" *ngIf="(emailCodeVar.touched ||
                                                     emailCodeVar.dirty || email.tblIdx !== 0) &&
                                                     emailCodeVar.errors">
                        <span *ngIf="emailCodeVar.errors.required">
                            Campus is required.
                        </span>
                    </span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-2 control-label" for="unitsSelector">Units</label>

                <div class="col-md-8">
                    <!--<input class="form-control" 
                            id="emailUnit" 
                            name="emailUnit"
                            placeholder="Unit (required)"
                            required
                            [(ngModel)] = email.Unit
                            #emailUnitVar="ngModel" />
                            -->
                    <select class="form-control"
                            id="unitsSelector"
                            name="unitsSelector"
                            placeholder="Select a Unit"
                            required
                            [(ngModel)]="email.Unit" 
                            (ngModelChange)="unitChanged($event)"
                            #tabletUnitsVar
                        >
                        <option *ngFor="let unit of units" [value]="unit.unitName" >{{unit.unitName}}</option>
                    </select>

                            <span class="help-block" *ngIf="(tabletUnitsVar.touched ||
                                                     tabletUnitsVar.dirty || email.tblIdx !== 0) &&
                                                     tabletUnitsVar.errors">

                        <span *ngIf="tabletUnitsVar.errors.required">
                            Unit is required.
                        </span>
                    </span>
                </div>
            </div>

            <div class="has-error" *ngIf="errorMessage">{{errorMessage}}</div>
        </fieldset>
    </form>
</div>